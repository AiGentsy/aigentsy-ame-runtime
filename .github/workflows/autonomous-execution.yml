# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# AiGentsy v97 â€“ APEX DOMINATOR
# The Ultimate Autonomous Money Machine
# January 5, 2026
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# FUSES:
# â€¢ v96: Cash-Verified, Profit-First, Self-Healing, SLO Policy
# â€¢ v94: Internet Domination (27+ platforms, Demand Vacuum, Viral Machine)
# â€¢ v93: Apex Upgrades (12 revenue optimization modules)
# â€¢ NEW: Adaptive Aggression, Multi-Currency Arbitrage, AI Swarm Intelligence
#
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# NEW IN v97 - MASSIVELY ACCRETIVE UPGRADES:
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚ ğŸ§  ADAPTIVE AGGRESSION ENGINE                                               â”‚
# â”‚   â€¢ Dynamically adjusts execution intensity based on cash flow             â”‚
# â”‚   â€¢ Low cash = BEAST MODE (aggressive bidding, fast SKUs, burst marketing) â”‚
# â”‚   â€¢ High cash = OPTIMIZE MODE (margin focus, quality over quantity)        â”‚
# â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
# â”‚ ğŸ’± MULTI-CURRENCY ARBITRAGE                                                 â”‚
# â”‚   â€¢ Exploit FX spreads + regional pricing simultaneously                   â”‚
# â”‚   â€¢ Auto-convert earnings to strongest currency                            â”‚
# â”‚   â€¢ Geo-aware pricing (charge USD in US, EUR in EU, etc.)                  â”‚
# â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
# â”‚ ğŸ AI SWARM INTELLIGENCE                                                    â”‚
# â”‚   â€¢ Multiple AI workers (Claude, GPT, Perplexity) compete for best output  â”‚
# â”‚   â€¢ Winner-take-all: best response gets deployed                           â”‚
# â”‚   â€¢ Cross-learning: losers learn from winners via MetaHive                 â”‚
# â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
# â”‚ âš¡ REAL-TIME OPPORTUNITY SNIPER                                             â”‚
# â”‚   â€¢ WebSocket connections to freelance platforms                           â”‚
# â”‚   â€¢ Bid within 60 seconds of job posting                                   â”‚
# â”‚   â€¢ First-mover advantage = 3x win rate                                    â”‚
# â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
# â”‚ ğŸ° PORTFOLIO KELLY CRITERION                                                â”‚
# â”‚   â€¢ Optimal bet sizing based on win probability                            â”‚
# â”‚   â€¢ Never over-allocate to low-probability opportunities                   â”‚
# â”‚   â€¢ Mathematically maximize long-term growth                               â”‚
# â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
# â”‚ ğŸ”„ PERPETUAL MOTION REVENUE                                                 â”‚
# â”‚   â€¢ Every completed deal triggers 3 more actions:                          â”‚
# â”‚     1. Upsell/cross-sell to client                                         â”‚
# â”‚     2. Request referral                                                    â”‚
# â”‚     3. Generate case study â†’ content â†’ leads                               â”‚
# â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
# â”‚ ğŸŒŠ DEMAND WAVE RIDING                                                       â”‚
# â”‚   â€¢ Predict demand spikes 24-72h ahead using signals                       â”‚
# â”‚   â€¢ Pre-position capacity and content before wave hits                     â”‚
# â”‚   â€¢ Ride the wave with premium pricing                                     â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
#
# EXECUTION FREQUENCY: Adaptive (5min when SLO violated, 15min normal, 60min optimized)
# TOTAL ENDPOINTS: 250+
# PHASES: 25
#
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

name: AiGentsy v97 APEX DOMINATOR

on:
  schedule:
    - cron: '*/15 * * * *'  # Every 15 min baseline (adaptive override possible)
  workflow_dispatch:
    inputs:
      mode:
        description: 'Execution mode'
        required: false
        default: 'domination'
        type: choice
        options: [domination, full, beast, optimize, discovery, financial, marketing, health]
      aggression:
        description: 'Aggression level (1-10, 0=auto)'
        required: false
        default: '0'
        type: string

concurrency:
  group: aigentsy-v97-${{ github.ref }}
  cancel-in-progress: false

permissions:
  contents: read

env:
  BACKEND_URL: ${{ secrets.BACKEND_URL || 'https://aigentsy-ame-runtime.onrender.com' }}
  AGGRESSION_INPUT: ${{ github.event.inputs.aggression || '0' }}

jobs:
  apex-dominator:
    name: "ğŸ† v97 APEX DOMINATOR (250+ endpoints)"
    runs-on: ubuntu-latest
    timeout-minutes: 55

    steps:
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # SETUP + TOOLING
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: ğŸ§° Setup Environment
        run: |
          sudo apt-get update -y && sudo apt-get install -y jq bc moreutils
          mkdir -p json metrics logs
          echo "ğŸ† APEX DOMINATOR v97 ACTIVATED"
          echo "ğŸ• $(date -u '+%Y-%m-%d %H:%M:%S UTC')"

      - name: ğŸ”§ Define Execution Helpers
        run: |
          # Retry helper with exponential backoff
          cat > _curl.sh <<'BASH'
          #!/usr/bin/env bash
          URL="$1"; METHOD="${2:-GET}"; DATA="${3:-}"; TIMEOUT="${4:-120}"
          for i in 1 2 3; do
            if [ "$METHOD" = "GET" ]; then
              R=$(curl -sS "$URL" --max-time "$TIMEOUT" -H "Content-Type: application/json" 2>/dev/null) && echo "$R" && exit 0
            else
              R=$(curl -sS -X "$METHOD" "$URL" --max-time "$TIMEOUT" -H "Content-Type: application/json" -d "${DATA:-{}}" 2>/dev/null) && echo "$R" && exit 0
            fi
            sleep $((i * 2))
          done
          echo '{"ok":false,"error":"timeout"}'
          BASH
          chmod +x _curl.sh
          
          # Parallel executor
          cat > _parallel.sh <<'BASH'
          #!/usr/bin/env bash
          BACKEND="$1"; shift
          for ep in "$@"; do
            (curl -sS -X POST "${BACKEND}${ep}" -H "Content-Type: application/json" -d '{}' --max-time 60 2>/dev/null | jq -c '{ok}' || echo '{"ok":false}') &
          done
          wait
          BASH
          chmod +x _parallel.sh

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # PHASE 0: CASH HEARTBEAT (HARD GATE) - Bank/Processor Verified
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: ğŸ’“ Cash Heartbeat (Stripe-Ledger Verified)
        id: cash
        continue-on-error: false
        run: |
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "ğŸ’“ CASH HEARTBEAT - STRIPE-VERIFIED TRUTH"
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          
          # Get verified cash (last 6h)
          CASH_JSON=$(./_curl.sh "${{ env.BACKEND_URL }}/revenue/cash-ledger/summary?hours=6" GET '' 30)
          echo "$CASH_JSON" | jq . || true
          VERIFIED=$(echo "$CASH_JSON" | jq -r '.verified_cash // 0')
          echo "verified_6h=$VERIFIED" >> $GITHUB_OUTPUT
          
          # Get scheduled payouts (next 24h)
          SCHED_JSON=$(./_curl.sh "${{ env.BACKEND_URL }}/finance/stripe/payouts/scheduled?hours=24" GET '' 30)
          SCHEDULED=$(echo "$SCHED_JSON" | jq -r '.scheduled_total // 0')
          echo "scheduled_24h=$SCHEDULED" >> $GITHUB_OUTPUT
          
          # Get pipeline value
          PIPE_JSON=$(./_curl.sh "${{ env.BACKEND_URL }}/deals/pipeline-value" GET '' 30)
          PIPELINE=$(echo "$PIPE_JSON" | jq -r '.total_value // 0')
          echo "pipeline=$PIPELINE" >> $GITHUB_OUTPUT
          
          # Get MRR
          MRR_JSON=$(./_curl.sh "${{ env.BACKEND_URL }}/revenue-orchestrator/subscriptions/mrr" GET '' 30)
          MRR=$(echo "$MRR_JSON" | jq -r '.mrr // 0')
          echo "mrr=$MRR" >> $GITHUB_OUTPUT
          
          echo "ğŸ’° Verified (6h): $VERIFIED | Scheduled (24h): $SCHEDULED | Pipeline: $PIPELINE | MRR: $MRR"

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # PHASE 1: ADAPTIVE AGGRESSION ENGINE (NEW!)
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: ğŸ§  Adaptive Aggression Engine
        id: aggression
        run: |
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "ğŸ§  ADAPTIVE AGGRESSION ENGINE"
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          
          VERIFIED="${{ steps.cash.outputs.verified_6h }}"
          INPUT_AGG="${{ env.AGGRESSION_INPUT }}"
          
          # Auto-calculate aggression if not manually set
          if [ "$INPUT_AGG" = "0" ]; then
            if [ "$(echo "$VERIFIED < 100" | bc -l)" -eq 1 ]; then
              AGG=10  # BEAST MODE - no cash
              MODE="BEAST"
            elif [ "$(echo "$VERIFIED < 500" | bc -l)" -eq 1 ]; then
              AGG=8   # High aggression
              MODE="HIGH"
            elif [ "$(echo "$VERIFIED < 2000" | bc -l)" -eq 1 ]; then
              AGG=6   # Normal
              MODE="NORMAL"
            else
              AGG=4   # Optimize mode - good cash, focus on margins
              MODE="OPTIMIZE"
            fi
          else
            AGG=$INPUT_AGG
            MODE="MANUAL"
          fi
          
          echo "aggression=$AGG" >> $GITHUB_OUTPUT
          echo "mode=$MODE" >> $GITHUB_OUTPUT
          
          echo "âš¡ Aggression: $AGG/10 | Mode: $MODE"
          
          # Apply aggression settings to backend
          ./_curl.sh "${{ env.BACKEND_URL }}/orchestrator/set-aggression" POST "{\"level\":$AGG,\"mode\":\"$MODE\"}" 30 | jq . || true

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # PHASE 2: SLO POLICY + AUTO-REMEDIATION
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: ğŸ”¥ SLO Policy (Revenue Protection)
        id: slo
        continue-on-error: true
        run: |
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "ğŸ”¥ SLO POLICY - REVENUE PROTECTION"
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          
          VERIFIED="${{ steps.cash.outputs.verified_6h }}"
          AGG="${{ steps.aggression.outputs.aggression }}"
          
          if [ "$(echo "$VERIFIED <= 0" | bc -l)" -eq 1 ]; then
            echo "ğŸš¨ SLO VIOLATION: Zero cash in 6h! EMERGENCY ACTIONS:"
            
            # Boost everything
            ./_curl.sh "${{ env.BACKEND_URL }}/orchestrator/boost-intensity" POST '{"bid_boost_pct":20,"promo_boost_pct":25,"duration_minutes":120}' 30 | jq -c '{ok}' || true
            
            # Shift to fast-converting SKUs
            ./_curl.sh "${{ env.BACKEND_URL }}/catalog/flip-to-fast-skus" POST '{"sku_tags":["express","quickturn","cart-recovery","low-ticket"]}' 30 | jq -c '{ok}' || true
            
            # Pause low performers, boost top performers
            ./_curl.sh "${{ env.BACKEND_URL }}/orchestrator/mix-shift" POST '{"pause_bottom_decile":true,"reallocate_to_top_quartile":true}' 30 | jq -c '{ok}' || true
            
            # Price elasticity - drop prices to drive volume
            ./_curl.sh "${{ env.BACKEND_URL }}/pricing/elasticity-stepdown" POST '{"steps":[-0.10,-0.15,-0.20],"channels":"all"}' 30 | jq -c '{ok}' || true
            
            # Reactivate lapsed customers
            ./_curl.sh "${{ env.BACKEND_URL }}/retarget/reactivate-lapsed" POST '{"days":60,"cap":1000}' 60 | jq -c '{ok}' || true
            
            # Burst recruitment
            ./_curl.sh "${{ env.BACKEND_URL }}/platform-recruitment/push" POST '{"burst":true,"targets":"all"}' 60 | jq -c '{ok}' || true
            
            # Emergency social blast
            ./_curl.sh "${{ env.BACKEND_URL }}/viral/emergency-blast" POST '{"all_platforms":true}' 60 | jq -c '{ok}' || true
            
            echo "slo_violated=1" >> $GITHUB_OUTPUT
          else
            echo "âœ… SLO OK - Cash flow healthy"
            echo "slo_violated=0" >> $GITHUB_OUTPUT
          fi

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # PHASE 3: PROFIT GATE (Drop Low-Margin Work)
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: âœ… Profit Gate (Margin Enforcement)
        continue-on-error: true
        run: |
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "âœ… PROFIT GATE - MARGIN ENFORCEMENT"
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          
          AGG="${{ steps.aggression.outputs.aggression }}"
          
          # Dynamic margin target based on aggression
          if [ "$AGG" -ge 8 ]; then
            MARGIN=0.15  # Low margin OK in beast mode
          elif [ "$AGG" -ge 5 ]; then
            MARGIN=0.25  # Normal margin
          else
            MARGIN=0.40  # High margin in optimize mode
          fi
          
          echo "Target margin: $MARGIN (aggression: $AGG)"
          
          ./_curl.sh "${{ env.BACKEND_URL }}/pricing/optimize" POST '{}' 60 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/execution/mark-unprofitable" POST "{\"target_margin\":$MARGIN}" 60 | jq -c '{ok,dropped}' || true

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # PHASE 4: DEMAND VACUUM (Scrape Entire Internet)
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: ğŸŒªï¸ Demand Vacuum (27+ Platforms)
        continue-on-error: true
        run: |
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "ğŸŒªï¸ DEMAND VACUUM - SCRAPING THE INTERNET"
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          
          # Master scrape
          ./_curl.sh "${{ env.BACKEND_URL }}/vacuum/scrape-all" POST '{"platforms":"all","depth":"deep"}' 300 | tee json/vacuum.json | jq -c '{ok,total_signals}' || true
          
          # Parallel platform scrapes
          ./_parallel.sh "${{ env.BACKEND_URL }}" \
            "/vacuum/fiverr" "/vacuum/upwork" "/vacuum/freelancer" "/vacuum/toptal" \
            "/vacuum/99designs" "/vacuum/designcrowd" "/vacuum/reddit" "/vacuum/twitter" \
            "/vacuum/linkedin" "/vacuum/discord" "/vacuum/producthunt"

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # PHASE 5: REAL-TIME OPPORTUNITY SNIPER (NEW!)
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: âš¡ Real-Time Opportunity Sniper
        continue-on-error: true
        run: |
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "âš¡ REAL-TIME OPPORTUNITY SNIPER"
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          
          # Check for fresh opportunities (posted in last 60 min)
          ./_curl.sh "${{ env.BACKEND_URL }}/sniper/fresh-opportunities" POST '{"max_age_minutes":60}' 60 | jq -c '{ok,count}' || true
          
          # Auto-bid on high-EV fresh opportunities
          ./_curl.sh "${{ env.BACKEND_URL }}/sniper/auto-bid" POST '{"min_ev":50,"max_bids":20}' 120 | jq -c '{ok,bids_placed}' || true
          
          # First-mover advantage tracking
          ./_curl.sh "${{ env.BACKEND_URL }}/sniper/first-mover-stats" GET '' 30 | jq -c '{ok,win_rate_boost}' || true

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # PHASE 6: WADE AUTO-APPROVE & EXECUTE
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: ğŸ¤– Wade Auto-Approve & Execute
        continue-on-error: true
        run: |
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "ğŸ¤– WADE AUTO-APPROVE & EXECUTE"
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          
          # Dashboard
          ./_curl.sh "${{ env.BACKEND_URL }}/wade/dashboard" GET '' 30 | tee json/wade.json | jq -c '{ok,pending}' || true
          
          # Execution status
          ./_curl.sh "${{ env.BACKEND_URL }}/wade/execution-status" GET '' 30 | jq -c '{ok,total}' || true
          
          # AUTO-APPROVE ALL
          ./_curl.sh "${{ env.BACKEND_URL }}/wade/approve-all" POST '{}' 120 | tee json/wade-approve.json | jq -c '{ok,approved_count}' || true
          
          # Execute approved
          ./_curl.sh "${{ env.BACKEND_URL }}/wade/execute-approved" POST '{}' 180 | jq -c '{ok}' || true
          
          # Process discoveries
          ./_curl.sh "${{ env.BACKEND_URL }}/wade/process-discoveries" POST '{}' 60 | jq -c '{ok}' || true

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # PHASE 7: UNIVERSAL REVENUE ORCHESTRATOR
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: ğŸ’° Universal Revenue Orchestrator
        continue-on-error: true
        run: |
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "ğŸ’° UNIVERSAL REVENUE ORCHESTRATOR"
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          
          ./_curl.sh "${{ env.BACKEND_URL }}/revenue-orchestrator/run-cycle" POST '{}' 300 | tee json/orch.json | jq -c '{ok,cycle_id}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/revenue-orchestrator/dashboard" GET '' 60 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/revenue-orchestrator/revenue-summary?hours=24" GET '' 60 | jq -c '{ok,total}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/revenue-orchestrator/fiverr/process-orders" POST '{}' 120 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/revenue-orchestrator/cart-recovery" POST '{}' 90 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/revenue-orchestrator/social/post-spawns" POST '{}' 120 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/revenue-orchestrator/arbitrage/find" POST '{}' 120 | jq -c '{ok}' || true

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # PHASE 8: APEX UPGRADES (12 Revenue Optimization Modules)
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: ğŸš€ Apex Upgrades (12 Modules)
        continue-on-error: true
        run: |
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "ğŸš€ APEX UPGRADES - REVENUE OPTIMIZATION"
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          
          # Intent Router + CAC Pricing
          ./_curl.sh "${{ env.BACKEND_URL }}/router/score-intent" POST '{"intent_id":"scan","signal":{"budget":500}}' 30 | jq -c '{ok,ev}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/router/route" POST '{"min_ev_usd":25}' 30 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/pricing/cac-aware" POST '{"base_price":200,"margin_target":0.55}' 30 | jq -c '{ok}' || true
          
          # Upsell + Recovery
          ./_curl.sh "${{ env.BACKEND_URL }}/upsell/recommend" POST '{"order_id":"scan"}' 30 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/recovery/compose" POST '{"order_ref":"scan"}' 30 | jq -c '{ok}' || true
          
          # LTV + Portfolio
          ./_curl.sh "${{ env.BACKEND_URL }}/ltv/predict" POST '{"client_id":"scan"}' 30 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/portfolio/rebalance" POST '{"auto":true}' 30 | jq -c '{ok}' || true
          
          # Churn + Proof
          ./_curl.sh "${{ env.BACKEND_URL }}/subscriptions/churn-risk" POST '{"sub_id":"scan"}' 30 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/proof/badge/mint" POST '{"deal_id":"auto"}' 30 | jq -c '{ok}' || true

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # PHASE 9: AI SWARM INTELLIGENCE (NEW!)
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: ğŸ AI Swarm Intelligence
        continue-on-error: true
        run: |
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "ğŸ AI SWARM INTELLIGENCE"
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          
          # Run swarm competition
          ./_curl.sh "${{ env.BACKEND_URL }}/swarm/compete" POST '{"task_type":"all","workers":["claude","gpt4","perplexity"]}' 180 | jq -c '{ok,winner}' || true
          
          # Cross-learning
          ./_curl.sh "${{ env.BACKEND_URL }}/swarm/cross-learn" POST '{}' 60 | jq -c '{ok}' || true
          
          # MetaHive distribution
          ./_curl.sh "${{ env.BACKEND_URL }}/hive/distribute" POST '{}' 60 | jq -c '{ok}' || true

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # PHASE 10: PORTFOLIO KELLY CRITERION (NEW!)
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: ğŸ° Portfolio Kelly Criterion
        continue-on-error: true
        run: |
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "ğŸ° PORTFOLIO KELLY CRITERION - OPTIMAL BET SIZING"
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          
          # Calculate optimal allocations
          ./_curl.sh "${{ env.BACKEND_URL }}/kelly/calculate" POST '{}' 60 | jq -c '{ok,allocations}' || true
          
          # Apply allocations
          ./_curl.sh "${{ env.BACKEND_URL }}/kelly/apply" POST '{}' 60 | jq -c '{ok}' || true
          
          # Rebalance portfolio
          ./_curl.sh "${{ env.BACKEND_URL }}/kelly/rebalance" POST '{}' 60 | jq -c '{ok}' || true

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # PHASE 11: INSTANT ARBITRAGE
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: ğŸ’¹ Instant Arbitrage
        continue-on-error: true
        run: |
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "ğŸ’¹ INSTANT ARBITRAGE"
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          
          ./_curl.sh "${{ env.BACKEND_URL }}/arbitrage/scan-all-markets" POST '{"min_profit_pct":15}' 120 | jq -c '{ok,opportunities}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/arbitrage/service-flip" POST '{"source":"fiverr","target":"upwork","markup":2.5}' 60 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/arbitrage/geo-exploit" POST '{}' 60 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/arbitrage/execute-all" POST '{"min_roi":1.5}' 120 | jq -c '{ok,profit}' || true

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # PHASE 12: MULTI-CURRENCY ARBITRAGE (NEW!)
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: ğŸ’± Multi-Currency Arbitrage
        continue-on-error: true
        run: |
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "ğŸ’± MULTI-CURRENCY ARBITRAGE"
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          
          # Scan FX opportunities
          ./_curl.sh "${{ env.BACKEND_URL }}/fx/scan-spreads" POST '{}' 60 | jq -c '{ok}' || true
          
          # Geo-aware pricing
          ./_curl.sh "${{ env.BACKEND_URL }}/fx/geo-price" POST '{"optimize":"revenue"}' 60 | jq -c '{ok}' || true
          
          # Auto-convert to strongest currency
          ./_curl.sh "${{ env.BACKEND_URL }}/fx/auto-convert" POST '{}' 60 | jq -c '{ok}' || true

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # PHASE 13: VIRAL CONTENT MACHINE
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: ğŸš€ Viral Content Machine
        continue-on-error: true
        run: |
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "ğŸš€ VIRAL CONTENT MACHINE"
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          
          ./_curl.sh "${{ env.BACKEND_URL }}/viral/detect-trends" POST '{"platforms":"all"}' 60 | jq -c '{ok,trends}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/viral/generate-content" POST '{"formats":["short_video","carousel","thread"]}' 120 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/viral/cross-post" POST '{"platforms":["tiktok","instagram","twitter","linkedin"]}' 120 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/viral/engage" POST '{"strategy":"value_first"}' 60 | jq -c '{ok}' || true

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # PHASE 14: PERPETUAL MOTION REVENUE (NEW!)
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: ğŸ”„ Perpetual Motion Revenue
        continue-on-error: true
        run: |
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "ğŸ”„ PERPETUAL MOTION REVENUE"
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          
          # For every completed deal, trigger 3 actions
          ./_curl.sh "${{ env.BACKEND_URL }}/perpetual/process-completions" POST '{}' 120 | jq -c '{ok}' || true
          
          # Auto-upsell
          ./_curl.sh "${{ env.BACKEND_URL }}/perpetual/auto-upsell" POST '{}' 60 | jq -c '{ok}' || true
          
          # Request referrals
          ./_curl.sh "${{ env.BACKEND_URL }}/perpetual/request-referrals" POST '{}' 60 | jq -c '{ok}' || true
          
          # Generate case studies -> content -> leads
          ./_curl.sh "${{ env.BACKEND_URL }}/perpetual/case-study-pipeline" POST '{}' 120 | jq -c '{ok}' || true

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # PHASE 15: DEMAND WAVE RIDING (NEW!)
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: ğŸŒŠ Demand Wave Riding
        continue-on-error: true
        run: |
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "ğŸŒŠ DEMAND WAVE RIDING"
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          
          # Predict demand spikes
          ./_curl.sh "${{ env.BACKEND_URL }}/waves/predict" POST '{"horizon_hours":72}' 120 | jq -c '{ok,waves}' || true
          
          # Pre-position capacity
          ./_curl.sh "${{ env.BACKEND_URL }}/waves/pre-position" POST '{}' 60 | jq -c '{ok}' || true
          
          # Premium pricing for waves
          ./_curl.sh "${{ env.BACKEND_URL }}/waves/premium-pricing" POST '{}' 30 | jq -c '{ok}' || true

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # PHASE 16: SPAWN ENGINE
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: ğŸ­ Spawn Engine
        continue-on-error: true
        run: |
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "ğŸ­ SPAWN ENGINE"
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          
          ./_curl.sh "${{ env.BACKEND_URL }}/spawn/detect-trends" POST '{}' 120 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/spawn/run-cycle" POST '{"max_spawns":10}' 300 | tee json/spawn.json | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/spawn/dashboard" GET '' 60 | jq -c '{ok,active}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/spawn/lifecycle-check" POST '{}' 60 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/spawn/network/generate-promos" POST '{}' 60 | jq -c '{ok}' || true

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # PHASE 17: AFFILIATE SWARM
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: ğŸ Affiliate Swarm
        continue-on-error: true
        run: |
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "ğŸ AFFILIATE SWARM"
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          
          ./_curl.sh "${{ env.BACKEND_URL }}/affiliate/generate-content" POST '{"networks":["amazon","shareasale","cj"]}' 120 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/affiliate/deploy-content" POST '{"targets":["medium","youtube"]}' 120 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/affiliate/optimize" POST '{}' 60 | jq -c '{ok,revenue}' || true

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # PHASE 18: LEAD MAGNET FACTORY
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: ğŸ§² Lead Magnet Factory
        continue-on-error: true
        run: |
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "ğŸ§² LEAD MAGNET FACTORY"
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          
          ./_curl.sh "${{ env.BACKEND_URL }}/leadmag/generate" POST '{"types":["ebook","checklist","template"]}' 120 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/leadmag/deploy-pages" POST '{}' 60 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/leadmag/convert" POST '{}' 60 | jq -c '{ok,leads,conversions}' || true

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # PHASE 19: DISCOVERY + FULFILLMENT
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: ğŸ” Discovery + Fulfillment
        continue-on-error: true
        run: |
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "ğŸ” DISCOVERY + FULFILLMENT"
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          
          ./_curl.sh "${{ env.BACKEND_URL }}/execution/mega-discover" POST '{"enable_filters":true}' 300 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/autonomous/discover-and-execute" POST '{"auto_approve_user":true}' 180 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/fulfillment/process-queue" POST '{}' 180 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/fulfillment/auto-deliver" POST '{}' 120 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/deals/advance-all" POST '{}' 60 | jq -c '{ok}' || true

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # PHASE 20: AI GENERATION
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: ğŸ¤– AI Generation
        continue-on-error: true
        run: |
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "ğŸ¤– AI GENERATION"
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          
          ./_curl.sh "${{ env.BACKEND_URL }}/ai/orchestrate" POST '{}' 300 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/graphics/batch-generate" POST '{}' 300 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/audio/batch-generate" POST '{}' 300 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/video/batch-generate" POST '{}' 300 | jq -c '{ok}' || true

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # PHASE 21: FINANCIAL
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: ğŸ’³ Financial Systems
        continue-on-error: true
        run: |
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "ğŸ’³ FINANCIAL SYSTEMS"
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          
          ./_curl.sh "${{ env.BACKEND_URL }}/stripe/batch-payouts" POST '{}' 60 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/revenue/reconcile" POST '{}' 60 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/escrow/auto-release" POST '{}' 60 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/payments/batch-execute" POST '{}' 120 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/subscriptions/process-renewals" POST '{}' 60 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/ipvault/royalty-sweep" POST '{}' 60 | jq -c '{ok}' || true

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # PHASE 22: MARKETING
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: ğŸ“£ Marketing
        continue-on-error: true
        run: |
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "ğŸ“£ MARKETING"
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          
          ./_curl.sh "${{ env.BACKEND_URL }}/email/send-batch" POST '{}' 120 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/ame/process-queue" POST '{}' 60 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/ame/generate-pitches" POST '{}' 120 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/social/process-queue" POST '{}' 60 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/retarget/process-queue" POST '{}' 60 | jq -c '{ok}' || true

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # PHASE 23: PLATFORM + META
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: ğŸ¨ Platform + Meta
        continue-on-error: true
        run: |
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "ğŸ¨ PLATFORM + META"
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          
          ./_curl.sh "${{ env.BACKEND_URL }}/fiverr/process-orders" POST '{}' 120 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/dribbble/post-daily" POST '{}' 120 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/99designs/scan-and-enter" POST '{}' 120 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/metabridge/batch_execute" POST '{}' 120 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/darkpool/match" POST '{}' 60 | jq -c '{ok}' || true

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # PHASE 24: LEARNING + SELF-HEALING
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: ğŸ§  Learning + Self-Healing
        continue-on-error: true
        run: |
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "ğŸ§  LEARNING + SELF-HEALING"
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          
          ./_curl.sh "${{ env.BACKEND_URL }}/learning/process-outcomes" POST '{}' 120 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/learning/update-models" POST '{}' 60 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/orchestrator/circuits" GET '' 30 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/orchestrator/auto-recover" POST '{}' 60 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/reconciliation/persist" POST '{}' 30 | jq -c '{ok}' || true

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # PHASE 25: HEALTH CHECKS
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: ğŸ¥ Health Checks
        continue-on-error: true
        run: |
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo "ğŸ¥ HEALTH CHECKS"
          echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          
          ./_curl.sh "${{ env.BACKEND_URL }}/health" GET '' 10 | jq -c '{status}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/execution/health" GET '' 10 | jq -c '{ok}' || true
          ./_curl.sh "${{ env.BACKEND_URL }}/learning/health" GET '' 10 | jq -c '{ok}' || true

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # CANARY ARTIFACT
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: ğŸ“¦ Revenue Canary Artifact
        if: always()
        run: |
          NOW=$(date -u '+%Y-%m-%dT%H:%M:%SZ')
          DASH=$(cat json/orch.json 2>/dev/null || echo '{}')
          WADE=$(cat json/wade-approve.json 2>/dev/null || echo '{}')
          SPAWN=$(cat json/spawn.json 2>/dev/null || echo '{}')
          
          cat > canary.json <<EOF
          {
            "ts": "$NOW",
            "version": "v97",
            "cash": {
              "verified_6h": "${{ steps.cash.outputs.verified_6h }}",
              "scheduled_24h": "${{ steps.cash.outputs.scheduled_24h }}",
              "pipeline": "${{ steps.cash.outputs.pipeline }}",
              "mrr": "${{ steps.cash.outputs.mrr }}"
            },
            "aggression": {
              "level": "${{ steps.aggression.outputs.aggression }}",
              "mode": "${{ steps.aggression.outputs.mode }}"
            },
            "slo_violated": "${{ steps.slo.outputs.slo_violated }}",
            "orchestrator": $DASH,
            "wade": $WADE,
            "spawn": $SPAWN
          }
          EOF

      - name: â¬†ï¸ Upload Artifacts
        if: always()
        uses: actions/upload-artifact@v4
        with:
          name: apex-dominator-v97-${{ github.run_number }}
          path: |
            canary.json
            json/
          retention-days: 14

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # SUMMARY
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: ğŸ“ Summary
        if: always()
        run: |
          echo ""
          echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
          echo "â•‘          ğŸ† AIGENTSY v97 APEX DOMINATOR - COMPLETE                â•‘"
          echo "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£"
          echo "â•‘ ğŸ• $(date -u '+%Y-%m-%d %H:%M:%S UTC')                             â•‘"
          echo "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£"
          echo "â•‘ ğŸ’“ CASH: verified=\$${{ steps.cash.outputs.verified_6h }} | sched=\$${{ steps.cash.outputs.scheduled_24h }}"
          echo "â•‘ ğŸ“Š PIPELINE: \$${{ steps.cash.outputs.pipeline }} | MRR: \$${{ steps.cash.outputs.mrr }}"
          echo "â•‘ âš¡ AGGRESSION: ${{ steps.aggression.outputs.aggression }}/10 (${{ steps.aggression.outputs.mode }})"
          echo "â•‘ ğŸš¨ SLO VIOLATED: ${{ steps.slo.outputs.slo_violated }}"
          echo "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£"
          echo "â•‘ ğŸ†• v97 NEW SYSTEMS:                                               â•‘"
          echo "â•‘   ğŸ§  Adaptive Aggression Engine                                   â•‘"
          echo "â•‘   âš¡ Real-Time Opportunity Sniper                                 â•‘"
          echo "â•‘   ğŸ AI Swarm Intelligence                                        â•‘"
          echo "â•‘   ğŸ° Portfolio Kelly Criterion                                    â•‘"
          echo "â•‘   ğŸ’± Multi-Currency Arbitrage                                     â•‘"
          echo "â•‘   ğŸ”„ Perpetual Motion Revenue                                     â•‘"
          echo "â•‘   ğŸŒŠ Demand Wave Riding                                           â•‘"
          echo "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£"
          echo "â•‘ ğŸ“ˆ TOTAL: 250+ ENDPOINTS | 25 PHASES | EVERY 15 MINUTES           â•‘"
          echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
